jwt:
  secret: change-me-to-secure-key-change-this-in-prod
  access-token-validity-in-seconds: 3600        # 1시간
  refresh-token-validity-in-seconds: 1209600    # 2주
  issuer: moa-backend

toss:
  client-key: ${TOSS_CLIENT_KEY}     # 토스페이먼츠 샌드박스 클라이언트 키
  secret-key: ${TOSS_SECRET_KEY}     # 토스페이먼츠 샌드박스 시크릿 키

spring:
  application:
    name: backend

  sql:
    init:
      mode: never

  security:
    oauth2:
      client:
        registration:
          google:        # ✅ 구글 OAuth2 설정
            client-id: ${GOOGLE_CLIENT_ID}
            client-secret: ${GOOGLE_CLIENT_SECRET}
            redirect-uri: http://localhost:8080/login/oauth2/code/google
            scope:
              - profile
              - email

          kakao:         # ✅ 카카오 OAuth2 설정
            client-id: ${KAKAO_CLIENT_ID}
            client-secret: ${KAKAO_CLIENT_SECRET}  # 대부분 비워도 무방
            client-authentication-method: client_secret_post
            authorization-grant-type: authorization_code
            redirect-uri: http://localhost:8080/login/oauth2/code/kakao
            scope:
              - profile_nickname
              - profile_image
            provider: kakao

        provider:
          kakao:         # ✅ 카카오 OAuth2 Provider 엔드포인트 지정
            authorization-uri: https://kauth.kakao.com/oauth/authorize
            token-uri: https://kauth.kakao.com/oauth/token
            user-info-uri: https://kapi.kakao.com/v2/user/me
            user-name-attribute: id

  datasource:
    url: jdbc:postgresql://localhost:5432/moa  # ✅ docker run에서 지정한 DB 이름(moa)에 접속
    driver-class-name: org.postgresql.Driver   # ✅ Postgres JDBC 드라이버
    username: moa                              # ✅ POSTGRES_USER와 동일
    password: moa1234                          # ✅ POSTGRES_PASSWORD와 동일

  jpa:
    hibernate:
      ddl-auto: update                         # ✅ 개발용: 엔티티 기반으로 테이블 자동 생성/수정
    show-sql: true                             # ✅ 실행되는 SQL 로그 출력
    properties:
      hibernate:
        format_sql: true                       # ✅ SQL 로그 포맷팅
        dialect: org.hibernate.dialect.PostgreSQLDialect  # ✅ Postgres용 방언 설정
logging:
  level:
    org.springframework.security.oauth2.client: DEBUG
    org.springframework.web.client.RestTemplate: DEBUG
app:
  file-storage:
    root-dir: ./uploads        # ✅ 실제 파일이 저장될 루트 디렉터리 (프로젝트 기준 상대경로)
    image-dir: images          # ✅ 이미지 하위 디렉터리 (/uploads/images)
